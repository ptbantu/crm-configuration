# BANTU CRM é¡¹ç›®æ¦‚è§ˆæ–‡æ¡£

> æœ¬æ–‡æ¡£æ—¨åœ¨å¸®åŠ© AI Agent å’Œå¼€å‘è€…å¿«é€Ÿç†è§£ BANTU CRM ç³»ç»Ÿçš„æ•´ä½“æ¶æ„ã€æ–‡ä»¶ç»“æ„å’ŒåŠŸèƒ½æ¨¡å—ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ ¸å¿ƒåŠŸèƒ½æ¨¡å—](#æ ¸å¿ƒåŠŸèƒ½æ¨¡å—)
- [æ•°æ®åº“æ¨¡å‹](#æ•°æ®åº“æ¨¡å‹)
- [API ç»“æ„](#api-ç»“æ„)
- [æ–‡ä»¶åŠŸèƒ½è¯´æ˜](#æ–‡ä»¶åŠŸèƒ½è¯´æ˜)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## é¡¹ç›®æ¦‚è¿°

BANTU CRM æ˜¯ä¸€ä¸ªä¼ä¸šçº§å®¢æˆ·å…³ç³»ç®¡ç†ç³»ç»Ÿï¼Œä¸ºç­å…”ä¼ä¸šæœåŠ¡æä¾›å…¨æµç¨‹çš„ CRM è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒå¤šç§Ÿæˆ·ã€å¤šè¯­è¨€ã€å¤šè§’è‰²æƒé™ç®¡ç†ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **å¤šç§Ÿæˆ·æ¶æ„**ï¼šæ¯ä¸ªå…¬å¸/ç»„ç»‡ä½œä¸ºç‹¬ç«‹ç§Ÿæˆ·ï¼Œæ•°æ®å®Œå…¨éš”ç¦»
- âœ… **æƒé™ç³»ç»Ÿ**ï¼šåŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
- âœ… **å®¡è®¡æ—¥å¿—**ï¼šè‡ªåŠ¨è®°å½•æ‰€æœ‰ç”¨æˆ·æ“ä½œï¼Œæ”¯æŒæŸ¥è¯¢å’Œå¯¼å‡º
- âœ… **å·¥ä½œæµå¼•æ“**ï¼šæ”¯æŒä¸šåŠ¡æµç¨‹ç®¡ç†å’Œè‡ªåŠ¨åŒ–æµè½¬
- âœ… **ä»·æ ¼ç®¡ç†**ï¼šæ”¯æŒå¤šå¸ç§ã€æ±‡ç‡ç®¡ç†ã€ä»·æ ¼å†å²è®°å½•
- âœ… **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­æ–‡ã€å°å°¼è¯­
- âœ… **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒ Web ç«¯å’Œç§»åŠ¨ç«¯

### ç”¨æˆ·è§’è‰²

- **ADMIN**ï¼šç³»ç»Ÿç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™
- **SALES**ï¼šå†…éƒ¨é”€å”®ï¼Œè´Ÿè´£å®¢æˆ·å¼€å‘å’Œè®¢å•åˆ›å»º
- **AGENT**ï¼šæ¸ é“ä»£ç†é”€å”®ï¼Œç®¡ç†æ¸ é“å®¢æˆ·
- **OPERATION**ï¼šåšå•äººå‘˜ï¼Œè´Ÿè´£è®¢å•æ‰§è¡Œ
- **FINANCE**ï¼šè´¢åŠ¡äººå‘˜ï¼Œè´Ÿè´£åº”æ”¶åº”ä»˜å’ŒæŠ¥è¡¨

---

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18.2.0 | UI æ¡†æ¶ |
| TypeScript | 5.2.2 | ç±»å‹å®‰å…¨ |
| Vite | 6.0.9 | æ„å»ºå·¥å…· |
| React Router | 6.20.0 | è·¯ç”±ç®¡ç† |
| Tailwind CSS | 3.3.6 | æ ·å¼æ¡†æ¶ |
| React i18next | 13.5.0 | å›½é™…åŒ– |
| Chakra UI | 2.8.2 | UI ç»„ä»¶åº“ |
| Recharts | 3.5.1 | å›¾è¡¨åº“ |

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| FastAPI | 0.104.1 | Web æ¡†æ¶ |
| SQLAlchemy | 2.0.23 | ORMï¼ˆå¼‚æ­¥ï¼‰ |
| Pydantic | 2.5.0 | æ•°æ®éªŒè¯ |
| MySQL | - | ä¸»æ•°æ®åº“ï¼ˆä¸šåŠ¡æ•°æ®ï¼‰ |
| MongoDB | - | æ—¥å¿—å­˜å‚¨ï¼ˆåº”ç”¨æ—¥å¿—ï¼‰ |
| Redis | 5.0.1 | ç¼“å­˜å’Œä¼šè¯ç®¡ç† |
| Motor | 3.3.2 | MongoDB å¼‚æ­¥é©±åŠ¨ |
| python-jose | 3.3.0 | JWT è®¤è¯ |

### åŸºç¡€è®¾æ–½

- **å®¹å™¨åŒ–**ï¼šDocker + Kubernetes
- **CI/CD**ï¼šJenkins + Harbor
- **å¯¹è±¡å­˜å‚¨**ï¼šé˜¿é‡Œäº‘ OSS / MinIO
- **ç›‘æ§**ï¼šPrometheus + Grafana

---

## é¡¹ç›®ç»“æ„

```
/home/bantu/
â”œâ”€â”€ crm-bantu-website/          # å‰ç«¯é¡¹ç›®
â”œâ”€â”€ crm-backend-python/         # åç«¯é¡¹ç›®
â”œâ”€â”€ crm-configuration/          # é…ç½®é¡¹ç›®
â””â”€â”€ bantu-data/                 # æ•°æ®æ–‡ä»¶ï¼ˆMySQL æ•°æ®æ–‡ä»¶ï¼‰
```

### 1. å‰ç«¯é¡¹ç›® (`crm-bantu-website`)

```
crm-bantu-website/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # API å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ users.ts           # ç”¨æˆ·ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ organizations.ts   # ç»„ç»‡ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ customers.ts       # å®¢æˆ·ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ orders.ts          # è®¢å•ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ leads.ts           # çº¿ç´¢ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ opportunities.ts  # å•†æœºç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ products.ts        # äº§å“ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ prices.ts          # ä»·æ ¼ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ auditLogs.ts       # å®¡è®¡æ—¥å¿— API
â”‚   â”‚   â””â”€â”€ config.ts          # API é…ç½®
â”‚   â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ admin/             # ç®¡ç†åå°ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx    # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”‚   â”‚   â”œâ”€â”€ TopBar.tsx     # é¡¶éƒ¨æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ PermissionGuard.tsx  # æƒé™å®ˆå«
â”‚   â”‚   â”‚   â”œâ”€â”€ price/         # ä»·æ ¼ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ product/       # äº§å“ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx         # å®˜ç½‘å¤´éƒ¨
â”‚   â”‚   â”œâ”€â”€ Footer.tsx         # å®˜ç½‘é¡µè„š
â”‚   â”‚   â””â”€â”€ Toast.tsx          # æ¶ˆæ¯æç¤º
â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.tsx           # å®˜ç½‘é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ About.tsx          # å…³äºæˆ‘ä»¬
â”‚   â”‚   â”œâ”€â”€ Services.tsx       # æœåŠ¡ä»‹ç»
â”‚   â”‚   â”œâ”€â”€ Contact.tsx        # è”ç³»æˆ‘ä»¬
â”‚   â”‚   â”œâ”€â”€ Login.tsx          # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx      # ä»ªè¡¨æ¿
â”‚   â”‚   â””â”€â”€ admin/              # ç®¡ç†åå°é¡µé¢
â”‚   â”‚       â”œâ”€â”€ CustomerList.tsx      # å®¢æˆ·åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ CustomerDetail.tsx    # å®¢æˆ·è¯¦æƒ…
â”‚   â”‚       â”œâ”€â”€ OrderList.tsx         # è®¢å•åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ OrderDetail.tsx       # è®¢å•è¯¦æƒ…
â”‚   â”‚       â”œâ”€â”€ LeadList.tsx          # çº¿ç´¢åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ LeadDetail.tsx        # çº¿ç´¢è¯¦æƒ…
â”‚   â”‚       â”œâ”€â”€ OpportunityList.tsx   # å•†æœºåˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ OpportunityDetail.tsx # å•†æœºè¯¦æƒ…
â”‚   â”‚       â”œâ”€â”€ ProductManagement.tsx # äº§å“ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ PriceManagement.tsx    # ä»·æ ¼ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ EmployeeList.tsx      # å‘˜å·¥åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ RoleManagement.tsx    # è§’è‰²ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ Organizations.tsx     # ç»„ç»‡ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ AuditLogs.tsx         # å®¡è®¡æ—¥å¿—
â”‚   â”‚       â””â”€â”€ SystemStatus.tsx      # ç³»ç»ŸçŠ¶æ€
â”‚   â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ menu.ts            # èœå•é…ç½®
â”‚   â”‚   â””â”€â”€ permissions.ts     # æƒé™é…ç½®
â”‚   â”œâ”€â”€ contexts/              # Context ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ AuthContext.tsx    # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ SidebarContext.tsx # ä¾§è¾¹æ ä¸Šä¸‹æ–‡
â”‚   â”‚   â””â”€â”€ TabsContext.tsx    # æ ‡ç­¾é¡µä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts         # è®¤è¯ Hook
â”‚   â”‚   â””â”€â”€ useMenu.ts         # èœå• Hook
â”‚   â”œâ”€â”€ layouts/               # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ AdminLayout.tsx    # ç®¡ç†åå°å¸ƒå±€
â”‚   â”œâ”€â”€ i18n/                  # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ config.ts          # i18n é…ç½®
â”‚   â”‚   â””â”€â”€ locales/           # ç¿»è¯‘æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ zh-CN.json     # ä¸­æ–‡
â”‚   â”‚       â””â”€â”€ id-ID.json     # å°å°¼è¯­
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ cn.ts              # className åˆå¹¶
â”‚   â”‚   â”œâ”€â”€ formatPrice.ts     # ä»·æ ¼æ ¼å¼åŒ–
â”‚   â”‚   â””â”€â”€ storage.ts          # æœ¬åœ°å­˜å‚¨
â”‚   â”œâ”€â”€ App.tsx                # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx               # å…¥å£æ–‡ä»¶
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â”œâ”€â”€ k8s/                       # Kubernetes é…ç½®
â”œâ”€â”€ package.json               # ä¾èµ–é…ç½®
â””â”€â”€ vite.config.ts             # Vite é…ç½®
```

### 2. åç«¯é¡¹ç›® (`crm-backend-python`)

```
crm-backend-python/
â”œâ”€â”€ common/                    # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ models/                # å…±äº«æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.py           # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ organization.py   # ç»„ç»‡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ role.py           # è§’è‰²æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ customer.py       # å®¢æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ order.py          # è®¢å•æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ lead.py           # çº¿ç´¢æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ opportunity.py    # å•†æœºæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ product.py        # äº§å“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ product_price.py  # ä»·æ ¼æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ audit_log.py      # å®¡è®¡æ—¥å¿—æ¨¡å‹
â”‚   â”‚   â””â”€â”€ ...               # å…¶ä»–æ¨¡å‹
â”‚   â”œâ”€â”€ utils/                # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ repository.py     # Repository åŸºç±»
â”‚   â”‚   â””â”€â”€ service.py        # Service åŸºç±»
â”‚   â”œâ”€â”€ database.py           # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ redis_client.py       # Redis å®¢æˆ·ç«¯
â”‚   â””â”€â”€ mongodb_client.py     # MongoDB å®¢æˆ·ç«¯
â”œâ”€â”€ foundation_service/        # åŸºç¡€æœåŠ¡ï¼ˆå•ä½“æœåŠ¡ï¼‰
â”‚   â”œâ”€â”€ api/v1/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.py           # è®¤è¯ API
â”‚   â”‚   â”œâ”€â”€ users.py           # ç”¨æˆ·ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ organizations.py   # ç»„ç»‡ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ roles.py           # è§’è‰²ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ customers.py       # å®¢æˆ·ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ orders.py          # è®¢å•ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ leads.py           # çº¿ç´¢ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ opportunities.py  # å•†æœºç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ products.py        # äº§å“ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ product_prices.py  # ä»·æ ¼ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ audit_logs.py      # å®¡è®¡æ—¥å¿— API
â”‚   â”‚   â”œâ”€â”€ analytics.py       # æ•°æ®åˆ†æ API
â”‚   â”‚   â”œâ”€â”€ monitoring.py      # ç³»ç»Ÿç›‘æ§ API
â”‚   â”‚   â””â”€â”€ logs.py            # æ—¥å¿—æŸ¥è¯¢ API
â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ auth_service.py    # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ user_service.py    # ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ customer_service.py # å®¢æˆ·æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ order_service.py   # è®¢å•æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ lead_service.py    # çº¿ç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ opportunity_service.py # å•†æœºæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ product_service.py # äº§å“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ price_service.py   # ä»·æ ¼æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ audit_service.py   # å®¡è®¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ ...               # å…¶ä»–æœåŠ¡
â”‚   â”œâ”€â”€ repositories/         # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ user_repository.py # ç”¨æˆ·ä»“åº“
â”‚   â”‚   â”œâ”€â”€ customer_repository.py # å®¢æˆ·ä»“åº“
â”‚   â”‚   â”œâ”€â”€ order_repository.py # è®¢å•ä»“åº“
â”‚   â”‚   â””â”€â”€ ...               # å…¶ä»–ä»“åº“
â”‚   â”œâ”€â”€ schemas/               # Pydantic Schema
â”‚   â”‚   â”œâ”€â”€ auth.py            # è®¤è¯ Schema
â”‚   â”‚   â”œâ”€â”€ user.py            # ç”¨æˆ· Schema
â”‚   â”‚   â”œâ”€â”€ customer.py        # å®¢æˆ· Schema
â”‚   â”‚   â””â”€â”€ ...               # å…¶ä»– Schema
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ audit_middleware.py # å®¡è®¡æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ access_log_filter.py # è®¿é—®æ—¥å¿—è¿‡æ»¤
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ jwt.py             # JWT å·¥å…·
â”‚   â”‚   â”œâ”€â”€ password.py        # å¯†ç å·¥å…·
â”‚   â”‚   â””â”€â”€ audit_decorator.py # å®¡è®¡è£…é¥°å™¨
â”‚   â”œâ”€â”€ config.py              # æœåŠ¡é…ç½®
â”‚   â”œâ”€â”€ database.py            # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ main.py                # åº”ç”¨å…¥å£
â”œâ”€â”€ init-scripts/              # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ schema.sql             # æ•°æ®åº“ Schema
â”‚   â”œâ”€â”€ seed_data.sql          # ç§å­æ•°æ®
â”‚   â””â”€â”€ migrations/            # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚       â”œâ”€â”€ create_audit_logs_table.sql
â”‚       â”œâ”€â”€ create_product_prices_table.sql
â”‚       â””â”€â”€ ...               # å…¶ä»–è¿ç§»è„šæœ¬
â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                   # API æ–‡æ¡£
â”‚   â””â”€â”€ ...                   # å…¶ä»–æ–‡æ¡£
â”œâ”€â”€ k8s/                       # Kubernetes é…ç½®
â”œâ”€â”€ requirements.txt           # Python ä¾èµ–
â””â”€â”€ Dockerfile                 # Docker é…ç½®
```

### 3. é…ç½®é¡¹ç›® (`crm-configuration`)

```
crm-configuration/
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ database.yml           # æ•°æ®åº“é…ç½®
â”œâ”€â”€ k8s/                       # Kubernetes é…ç½®
â”‚   â”œâ”€â”€ helm/                  # Helm Charts
â”‚   â”œâ”€â”€ mysql/                 # MySQL é…ç½®
â”‚   â”œâ”€â”€ mongodb/               # MongoDB é…ç½®
â”‚   â”œâ”€â”€ redis/                 # Redis é…ç½®
â”‚   â””â”€â”€ crm-services/          # CRM æœåŠ¡é…ç½®
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â”‚   â”œâ”€â”€ module_architecture.md # æ¨¡å—æ¶æ„
â”‚   â”œâ”€â”€ visa_service_workflow_implementation.md # ä¸šåŠ¡æµç¨‹
â”‚   â””â”€â”€ customer_classification_guide.md # å®¢æˆ·åˆ†ç±»æŒ‡å—
â””â”€â”€ data-excel/                # Excel æ•°æ®æ–‡ä»¶
```

---

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. Foundation Serviceï¼ˆåŸºç¡€æœåŠ¡ï¼‰

**åŠŸèƒ½**ï¼š
- ç”¨æˆ·è®¤è¯ä¸ç™»å½•ï¼ˆJWTï¼‰
- ç”¨æˆ·ç®¡ç†ï¼ˆCRUDï¼‰
- ç»„ç»‡ç®¡ç†ï¼ˆå¤šç§Ÿæˆ·ï¼‰
- è§’è‰²æƒé™ç®¡ç†ï¼ˆRBACï¼‰
- å®¡è®¡æ—¥å¿—ï¼ˆè‡ªåŠ¨è®°å½•æ‰€æœ‰æ“ä½œï¼‰

**å…³é”®æ–‡ä»¶**ï¼š
- `foundation_service/api/v1/auth.py` - è®¤è¯ API
- `foundation_service/api/v1/users.py` - ç”¨æˆ·ç®¡ç† API
- `foundation_service/api/v1/organizations.py` - ç»„ç»‡ç®¡ç† API
- `foundation_service/api/v1/audit_logs.py` - å®¡è®¡æ—¥å¿— API
- `foundation_service/middleware/audit_middleware.py` - å®¡è®¡ä¸­é—´ä»¶

### 2. Order Workflow Serviceï¼ˆè®¢å•ä¸å·¥ä½œæµï¼‰

**åŠŸèƒ½**ï¼š
- è®¢å•ç®¡ç†ï¼ˆåˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ†é…ï¼‰
- è®¢å•é¡¹ç®¡ç†
- è®¢å•è¯„è®ºå’Œæ–‡ä»¶ç®¡ç†
- çº¿ç´¢ç®¡ç†ï¼ˆåˆ›å»ºã€è·Ÿè¿›ã€è½¬æ¢ï¼‰
- å•†æœºç®¡ç†ï¼ˆåˆ›å»ºã€è·Ÿè¿›ã€è½¬æ¢ï¼‰
- å·¥ä½œæµç®¡ç†ï¼ˆActivitiï¼‰
- å‚¬æ¬¾ä»»åŠ¡ç®¡ç†
- ä¸´æ—¶é“¾æ¥ç”Ÿæˆ

**å…³é”®æ–‡ä»¶**ï¼š
- `foundation_service/api/v1/orders.py` - è®¢å• API
- `foundation_service/api/v1/leads.py` - çº¿ç´¢ API
- `foundation_service/api/v1/opportunities.py` - å•†æœº API
- `foundation_service/services/order_service.py` - è®¢å•æœåŠ¡
- `foundation_service/services/lead_service.py` - çº¿ç´¢æœåŠ¡

### 3. Service Managementï¼ˆæœåŠ¡ç®¡ç†ï¼‰

**åŠŸèƒ½**ï¼š
- å®¢æˆ·ç®¡ç†ï¼ˆCRUDã€è·Ÿè¿›ã€å¤‡æ³¨ï¼‰
- è”ç³»äººç®¡ç†
- äº§å“/æœåŠ¡ç®¡ç†
- äº§å“åˆ†ç±»ç®¡ç†
- ä¾›åº”å•†ç®¡ç†
- ä¾›åº”å•†äº§å“ç®¡ç†
- æœåŠ¡è®°å½•ç®¡ç†
- è¡Œä¸šç®¡ç†
- å®¢æˆ·æ¥æºç®¡ç†

**å…³é”®æ–‡ä»¶**ï¼š
- `foundation_service/api/v1/customers.py` - å®¢æˆ· API
- `foundation_service/api/v1/products.py` - äº§å“ API
- `foundation_service/api/v1/suppliers.py` - ä¾›åº”å•† API
- `foundation_service/services/customer_service.py` - å®¢æˆ·æœåŠ¡
- `foundation_service/services/product_service.py` - äº§å“æœåŠ¡

### 4. Price Managementï¼ˆä»·æ ¼ç®¡ç†ï¼‰

**åŠŸèƒ½**ï¼š
- äº§å“ä»·æ ¼ç®¡ç†ï¼ˆå®šä»·ã€æ¸ é“ä»·ã€æˆæœ¬ä»·ï¼‰
- æ±‡ç‡ç®¡ç†
- ä»·æ ¼å˜æ›´æ—¥å¿—
- ä»·æ ¼å†å²è®°å½•
- å®¢æˆ·ç­‰çº§ä»·æ ¼
- æ‰¹é‡ä»·æ ¼ç¼–è¾‘

**å…³é”®æ–‡ä»¶**ï¼š
- `foundation_service/api/v1/product_prices.py` - ä»·æ ¼ API
- `foundation_service/api/v1/exchange_rates.py` - æ±‡ç‡ API
- `foundation_service/api/v1/price_change_logs.py` - ä»·æ ¼å˜æ›´æ—¥å¿— API
- `foundation_service/services/product_price_service.py` - ä»·æ ¼æœåŠ¡
- `foundation_service/services/exchange_rate_service.py` - æ±‡ç‡æœåŠ¡

### 5. Analytics & Monitoringï¼ˆæ•°æ®åˆ†æä¸ç›‘æ§ï¼‰

**åŠŸèƒ½**ï¼š
- æ•°æ®åˆ†æï¼ˆé”€å”®ç»Ÿè®¡ã€è®¢å•ç»Ÿè®¡ã€å®¢æˆ·åˆ†æï¼‰
- ç³»ç»Ÿç›‘æ§ï¼ˆCPUã€å†…å­˜ã€é”™è¯¯ç‡ï¼‰
- æ—¥å¿—æŸ¥è¯¢ï¼ˆMongoDB æ—¥å¿—æŸ¥è¯¢ï¼‰
- é¢„è­¦ç®¡ç†

**å…³é”®æ–‡ä»¶**ï¼š
- `foundation_service/api/v1/analytics.py` - æ•°æ®åˆ†æ API
- `foundation_service/api/v1/monitoring.py` - ç³»ç»Ÿç›‘æ§ API
- `foundation_service/api/v1/logs.py` - æ—¥å¿—æŸ¥è¯¢ API
- `foundation_service/services/analytics_service.py` - åˆ†ææœåŠ¡
- `foundation_service/services/monitoring_service.py` - ç›‘æ§æœåŠ¡

---

## æ•°æ®åº“æ¨¡å‹

### æ ¸å¿ƒä¸šåŠ¡æ¨¡å‹

#### ç”¨æˆ·ä¸æƒé™
- **User** (`common/models/user.py`) - ç”¨æˆ·è¡¨
- **Organization** (`common/models/organization.py`) - ç»„ç»‡è¡¨ï¼ˆç§Ÿæˆ·ï¼‰
- **Role** (`common/models/role.py`) - è§’è‰²è¡¨
- **Permission** (`common/models/permission.py`) - æƒé™è¡¨
- **UserRole** (`common/models/user_role.py`) - ç”¨æˆ·è§’è‰²å…³è”è¡¨
- **RolePermission** (`common/models/permission.py`) - è§’è‰²æƒé™å…³è”è¡¨
- **OrganizationEmployee** (`common/models/organization_employee.py`) - ç»„ç»‡å‘˜å·¥å…³è”è¡¨

#### å®¢æˆ·ç®¡ç†
- **Customer** (`common/models/customer.py`) - å®¢æˆ·è¡¨
- **Contact** (`common/models/contact.py`) - è”ç³»äººè¡¨
- **CustomerFollowUp** (`common/models/customer_follow_up.py`) - å®¢æˆ·è·Ÿè¿›è®°å½•
- **CustomerNote** (`common/models/customer_note.py`) - å®¢æˆ·å¤‡æ³¨
- **CustomerSource** (`common/models/customer_source.py`) - å®¢æˆ·æ¥æº
- **CustomerChannel** (`common/models/customer_channel.py`) - å®¢æˆ·æ¸ é“
- **CustomerLevel** (`common/models/customer_level.py`) - å®¢æˆ·ç­‰çº§
- **Industry** (`common/models/industry.py`) - è¡Œä¸š

#### è®¢å•ä¸å·¥ä½œæµ
- **Order** (`common/models/order.py`) - è®¢å•è¡¨
- **OrderItem** (`common/models/order_item.py`) - è®¢å•é¡¹è¡¨
- **OrderComment** (`common/models/order_comment.py`) - è®¢å•è¯„è®º
- **OrderFile** (`common/models/order_file.py`) - è®¢å•æ–‡ä»¶
- **Lead** (`common/models/lead.py`) - çº¿ç´¢è¡¨
- **LeadFollowUp** (`common/models/lead_follow_up.py`) - çº¿ç´¢è·Ÿè¿›è®°å½•
- **LeadNote** (`common/models/lead_note.py`) - çº¿ç´¢å¤‡æ³¨
- **LeadPool** (`common/models/lead_pool.py`) - çº¿ç´¢æ± 
- **Opportunity** (`common/models/opportunity.py`) - å•†æœºè¡¨
- **OpportunityProduct** (`common/models/opportunity.py`) - å•†æœºäº§å“å…³è”è¡¨
- **OpportunityPaymentStage** (`common/models/opportunity.py`) - å•†æœºä»˜æ¬¾é˜¶æ®µ
- **WorkflowDefinition** (`common/models/workflow_definition.py`) - å·¥ä½œæµå®šä¹‰
- **WorkflowInstance** (`common/models/workflow_instance.py`) - å·¥ä½œæµå®ä¾‹
- **WorkflowTask** (`common/models/workflow_task.py`) - å·¥ä½œæµä»»åŠ¡
- **WorkflowTransition** (`common/models/workflow_transition.py`) - å·¥ä½œæµè½¬æ¢

#### äº§å“ä¸æœåŠ¡
- **Product** (`common/models/product.py`) - äº§å“è¡¨
- **ProductCategory** (`common/models/product_category.py`) - äº§å“åˆ†ç±»è¡¨
- **ProductDependency** (`common/models/product_dependency.py`) - äº§å“ä¾èµ–å…³ç³»
- **VendorProduct** (`common/models/vendor_product.py`) - ä¾›åº”å•†äº§å“è¡¨
- **ServiceType** (`common/models/service_type.py`) - æœåŠ¡ç±»å‹è¡¨
- **ServiceRecord** (`common/models/service_record.py`) - æœåŠ¡è®°å½•è¡¨

#### ä»·æ ¼ç®¡ç†
- **ProductPrice** (`common/models/product_price.py`) - äº§å“ä»·æ ¼è¡¨
- **ProductPriceHistory** (`common/models/product_price_history.py`) - ä»·æ ¼å†å²è®°å½•
- **ExchangeRateHistory** (`common/models/exchange_rate_history.py`) - æ±‡ç‡å†å²è®°å½•
- **PriceChangeLog** (`common/models/price_change_log.py`) - ä»·æ ¼å˜æ›´æ—¥å¿—
- **CustomerLevelPrice** (`common/models/customer_level_price.py`) - å®¢æˆ·ç­‰çº§ä»·æ ¼
- **OrderPriceSnapshot** (`common/models/order_price_snapshot.py`) - è®¢å•ä»·æ ¼å¿«ç…§
- **VendorProductFinancial** (`common/models/vendor_product_financial.py`) - ä¾›åº”å•†äº§å“è´¢åŠ¡ä¿¡æ¯

#### å…¶ä»–
- **AuditLog** (`common/models/audit_log.py`) - å®¡è®¡æ—¥å¿—è¡¨
- **Notification** (`common/models/notification.py`) - é€šçŸ¥è¡¨
- **CollectionTask** (`common/models/collection_task.py`) - å‚¬æ¬¾ä»»åŠ¡è¡¨
- **TemporaryLink** (`common/models/temporary_link.py`) - ä¸´æ—¶é“¾æ¥è¡¨
- **FollowUpStatus** (`common/models/follow_up_status.py`) - è·Ÿè¿›çŠ¶æ€è¡¨

---

## API ç»“æ„

### API è·¯å¾„å‰ç¼€

- `/api/foundation/*` - åŸºç¡€æœåŠ¡ API
- `/api/order-workflow/*` - è®¢å•ä¸å·¥ä½œæµ API
- `/api/service-management/*` - æœåŠ¡ç®¡ç† API
- `/api/analytics-monitoring/*` - æ•°æ®åˆ†æä¸ç›‘æ§ API

### ä¸»è¦ API ç«¯ç‚¹

#### è®¤è¯ç›¸å…³
- `POST /api/foundation/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/foundation/auth/user-info` - è·å–ç”¨æˆ·ä¿¡æ¯
- `POST /api/foundation/auth/refresh` - åˆ·æ–° Token

#### ç”¨æˆ·ç®¡ç†
- `GET /api/foundation/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /api/foundation/users` - åˆ›å»ºç”¨æˆ·
- `GET /api/foundation/users/{id}` - è·å–ç”¨æˆ·è¯¦æƒ…
- `PUT /api/foundation/users/{id}` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/foundation/users/{id}` - åˆ é™¤ç”¨æˆ·

#### ç»„ç»‡ç®¡ç†
- `GET /api/foundation/organizations` - è·å–ç»„ç»‡åˆ—è¡¨
- `POST /api/foundation/organizations` - åˆ›å»ºç»„ç»‡
- `GET /api/foundation/organizations/{id}` - è·å–ç»„ç»‡è¯¦æƒ…
- `PUT /api/foundation/organizations/{id}` - æ›´æ–°ç»„ç»‡

#### å®¢æˆ·ç®¡ç†
- `GET /api/service-management/customers` - è·å–å®¢æˆ·åˆ—è¡¨
- `POST /api/service-management/customers` - åˆ›å»ºå®¢æˆ·
- `GET /api/service-management/customers/{id}` - è·å–å®¢æˆ·è¯¦æƒ…
- `PUT /api/service-management/customers/{id}` - æ›´æ–°å®¢æˆ·

#### è®¢å•ç®¡ç†
- `GET /api/order-workflow/orders` - è·å–è®¢å•åˆ—è¡¨
- `POST /api/order-workflow/orders` - åˆ›å»ºè®¢å•
- `GET /api/order-workflow/orders/{id}` - è·å–è®¢å•è¯¦æƒ…
- `PUT /api/order-workflow/orders/{id}` - æ›´æ–°è®¢å•
- `POST /api/order-workflow/orders/{id}/assign` - åˆ†é…è®¢å•

#### çº¿ç´¢ç®¡ç†
- `GET /api/order-workflow/leads` - è·å–çº¿ç´¢åˆ—è¡¨
- `POST /api/order-workflow/leads` - åˆ›å»ºçº¿ç´¢
- `GET /api/order-workflow/leads/{id}` - è·å–çº¿ç´¢è¯¦æƒ…
- `POST /api/order-workflow/leads/{id}/convert-to-customer` - è½¬æ¢ä¸ºå®¢æˆ·
- `POST /api/order-workflow/leads/{id}/convert-to-opportunity` - è½¬æ¢ä¸ºå•†æœº

#### äº§å“ç®¡ç†
- `GET /api/service-management/products` - è·å–äº§å“åˆ—è¡¨
- `POST /api/service-management/products` - åˆ›å»ºäº§å“
- `GET /api/service-management/products/{id}` - è·å–äº§å“è¯¦æƒ…
- `PUT /api/service-management/products/{id}` - æ›´æ–°äº§å“

#### ä»·æ ¼ç®¡ç†
- `GET /api/foundation/product-prices` - è·å–ä»·æ ¼åˆ—è¡¨
- `POST /api/foundation/product-prices` - åˆ›å»ºä»·æ ¼
- `PUT /api/foundation/product-prices/{id}` - æ›´æ–°ä»·æ ¼
- `GET /api/foundation/exchange-rates` - è·å–æ±‡ç‡åˆ—è¡¨
- `GET /api/foundation/price-change-logs` - è·å–ä»·æ ¼å˜æ›´æ—¥å¿—

#### å®¡è®¡æ—¥å¿—
- `GET /api/foundation/audit-logs` - æŸ¥è¯¢å®¡è®¡æ—¥å¿—
- `GET /api/foundation/audit-logs/{id}` - è·å–å®¡è®¡æ—¥å¿—è¯¦æƒ…
- `GET /api/foundation/audit-logs/users/{user_id}` - æŸ¥è¯¢ç”¨æˆ·å®¡è®¡æ—¥å¿—
- `POST /api/foundation/audit-logs/export` - å¯¼å‡ºå®¡è®¡æ—¥å¿—

---

## æ–‡ä»¶åŠŸèƒ½è¯´æ˜

### å‰ç«¯å…³é”®æ–‡ä»¶

#### API å®¢æˆ·ç«¯ (`src/api/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `auth.ts` | ç”¨æˆ·è®¤è¯ç›¸å…³ APIï¼ˆç™»å½•ã€è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰ |
| `users.ts` | ç”¨æˆ·ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `organizations.ts` | ç»„ç»‡ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `customers.ts` | å®¢æˆ·ç®¡ç† APIï¼ˆCRUDã€è·Ÿè¿›ã€å¤‡æ³¨ï¼‰ |
| `orders.ts` | è®¢å•ç®¡ç† APIï¼ˆCRUDã€åˆ†é…ã€è¯„è®ºã€æ–‡ä»¶ï¼‰ |
| `leads.ts` | çº¿ç´¢ç®¡ç† APIï¼ˆCRUDã€è½¬æ¢ã€è·Ÿè¿›ï¼‰ |
| `opportunities.ts` | å•†æœºç®¡ç† APIï¼ˆCRUDã€è½¬æ¢ã€è·Ÿè¿›ï¼‰ |
| `products.ts` | äº§å“ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `prices.ts` | ä»·æ ¼ç®¡ç† APIï¼ˆCRUDã€å†å²è®°å½•ï¼‰ |
| `exchangeRates.ts` | æ±‡ç‡ç®¡ç† API |
| `auditLogs.ts` | å®¡è®¡æ—¥å¿— APIï¼ˆæŸ¥è¯¢ã€å¯¼å‡ºï¼‰ |
| `config.ts` | API é…ç½®ï¼ˆåŸºç¡€ URLã€è·¯å¾„å®šä¹‰ï¼‰ |
| `client.ts` | HTTP å®¢æˆ·ç«¯å°è£…ï¼ˆè¯·æ±‚æ‹¦æˆªã€é”™è¯¯å¤„ç†ï¼‰ |

#### é¡µé¢ç»„ä»¶ (`src/pages/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `Home.tsx` | å®˜ç½‘é¦–é¡µ |
| `About.tsx` | å…³äºæˆ‘ä»¬é¡µé¢ |
| `Services.tsx` | æœåŠ¡ä»‹ç»é¡µé¢ |
| `Contact.tsx` | è”ç³»æˆ‘ä»¬é¡µé¢ |
| `Login.tsx` | ç”¨æˆ·ç™»å½•é¡µé¢ |
| `Dashboard.tsx` | ç®¡ç†åå°ä»ªè¡¨æ¿ |
| `admin/CustomerList.tsx` | å®¢æˆ·åˆ—è¡¨é¡µé¢ |
| `admin/CustomerDetail.tsx` | å®¢æˆ·è¯¦æƒ…é¡µé¢ |
| `admin/OrderList.tsx` | è®¢å•åˆ—è¡¨é¡µé¢ |
| `admin/OrderDetail.tsx` | è®¢å•è¯¦æƒ…é¡µé¢ |
| `admin/LeadList.tsx` | çº¿ç´¢åˆ—è¡¨é¡µé¢ |
| `admin/LeadDetail.tsx` | çº¿ç´¢è¯¦æƒ…é¡µé¢ |
| `admin/OpportunityList.tsx` | å•†æœºåˆ—è¡¨é¡µé¢ |
| `admin/OpportunityDetail.tsx` | å•†æœºè¯¦æƒ…é¡µé¢ |
| `admin/ProductManagement.tsx` | äº§å“ç®¡ç†é¡µé¢ |
| `admin/PriceManagement.tsx` | ä»·æ ¼ç®¡ç†é¡µé¢ |
| `admin/EmployeeList.tsx` | å‘˜å·¥åˆ—è¡¨é¡µé¢ |
| `admin/RoleManagement.tsx` | è§’è‰²ç®¡ç†é¡µé¢ |
| `admin/Organizations.tsx` | ç»„ç»‡ç®¡ç†é¡µé¢ |
| `admin/AuditLogs.tsx` | å®¡è®¡æ—¥å¿—é¡µé¢ |
| `admin/SystemStatus.tsx` | ç³»ç»ŸçŠ¶æ€é¡µé¢ |

#### é…ç½® (`src/config/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `menu.ts` | èœå•é…ç½®ï¼ˆèœå•é¡¹ã€æƒé™è¦æ±‚ã€å›¾æ ‡ï¼‰ |
| `permissions.ts` | æƒé™é…ç½®ï¼ˆè§’è‰²æšä¸¾ã€æƒé™æšä¸¾ï¼‰ |

#### ä¸Šä¸‹æ–‡ (`src/contexts/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `AuthContext.tsx` | è®¤è¯ä¸Šä¸‹æ–‡ï¼ˆç”¨æˆ·ä¿¡æ¯ã€ç™»å½•çŠ¶æ€ï¼‰ |
| `SidebarContext.tsx` | ä¾§è¾¹æ ä¸Šä¸‹æ–‡ï¼ˆå±•å¼€/æ”¶èµ·çŠ¶æ€ï¼‰ |
| `TabsContext.tsx` | æ ‡ç­¾é¡µä¸Šä¸‹æ–‡ï¼ˆå¤šæ ‡ç­¾é¡µç®¡ç†ï¼‰ |

### åç«¯å…³é”®æ–‡ä»¶

#### API è·¯ç”± (`foundation_service/api/v1/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `auth.py` | è®¤è¯ APIï¼ˆç™»å½•ã€åˆ·æ–° Tokenã€è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰ |
| `users.py` | ç”¨æˆ·ç®¡ç† APIï¼ˆCRUDã€å¯ç”¨/ç¦ç”¨ï¼‰ |
| `organizations.py` | ç»„ç»‡ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `roles.py` | è§’è‰²ç®¡ç† APIï¼ˆCRUDã€æƒé™åˆ†é…ï¼‰ |
| `permissions.py` | æƒé™ç®¡ç† APIï¼ˆæŸ¥è¯¢æƒé™åˆ—è¡¨ï¼‰ |
| `customers.py` | å®¢æˆ·ç®¡ç† APIï¼ˆCRUDã€è·Ÿè¿›ã€å¤‡æ³¨ï¼‰ |
| `contacts.py` | è”ç³»äººç®¡ç† APIï¼ˆCRUDï¼‰ |
| `orders.py` | è®¢å•ç®¡ç† APIï¼ˆCRUDã€åˆ†é…ã€çŠ¶æ€æ›´æ–°ï¼‰ |
| `order_items.py` | è®¢å•é¡¹ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `order_comments.py` | è®¢å•è¯„è®º APIï¼ˆCRUDã€å›å¤ã€ç½®é¡¶ï¼‰ |
| `order_files.py` | è®¢å•æ–‡ä»¶ APIï¼ˆä¸Šä¼ ã€ä¸‹è½½ã€éªŒè¯ï¼‰ |
| `leads.py` | çº¿ç´¢ç®¡ç† APIï¼ˆCRUDã€è½¬æ¢ã€åˆ†é…ã€è·Ÿè¿›ï¼‰ |
| `opportunities.py` | å•†æœºç®¡ç† APIï¼ˆCRUDã€è½¬æ¢ã€åˆ†é…ã€è·Ÿè¿›ï¼‰ |
| `products.py` | äº§å“ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `product_prices.py` | ä»·æ ¼ç®¡ç† APIï¼ˆCRUDã€æ‰¹é‡æ›´æ–°ï¼‰ |
| `exchange_rates.py` | æ±‡ç‡ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `price_change_logs.py` | ä»·æ ¼å˜æ›´æ—¥å¿— APIï¼ˆæŸ¥è¯¢ï¼‰ |
| `suppliers.py` | ä¾›åº”å•†ç®¡ç† APIï¼ˆCRUDï¼‰ |
| `audit_logs.py` | å®¡è®¡æ—¥å¿— APIï¼ˆæŸ¥è¯¢ã€å¯¼å‡ºï¼‰ |
| `analytics.py` | æ•°æ®åˆ†æ APIï¼ˆé”€å”®ç»Ÿè®¡ã€è®¢å•ç»Ÿè®¡ï¼‰ |
| `monitoring.py` | ç³»ç»Ÿç›‘æ§ APIï¼ˆCPUã€å†…å­˜ã€é”™è¯¯ç‡ï¼‰ |
| `logs.py` | æ—¥å¿—æŸ¥è¯¢ APIï¼ˆMongoDB æ—¥å¿—æŸ¥è¯¢ï¼‰ |

#### ä¸šåŠ¡æœåŠ¡ (`foundation_service/services/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `auth_service.py` | è®¤è¯æœåŠ¡ï¼ˆç™»å½•éªŒè¯ã€Token ç”Ÿæˆï¼‰ |
| `user_service.py` | ç”¨æˆ·æœåŠ¡ï¼ˆä¸šåŠ¡é€»è¾‘å¤„ç†ï¼‰ |
| `customer_service.py` | å®¢æˆ·æœåŠ¡ï¼ˆä¸šåŠ¡é€»è¾‘å¤„ç†ï¼‰ |
| `order_service.py` | è®¢å•æœåŠ¡ï¼ˆä¸šåŠ¡é€»è¾‘å¤„ç†ã€çŠ¶æ€æµè½¬ï¼‰ |
| `lead_service.py` | çº¿ç´¢æœåŠ¡ï¼ˆä¸šåŠ¡é€»è¾‘å¤„ç†ã€è½¬æ¢é€»è¾‘ï¼‰ |
| `opportunity_service.py` | å•†æœºæœåŠ¡ï¼ˆä¸šåŠ¡é€»è¾‘å¤„ç†ã€è½¬æ¢é€»è¾‘ï¼‰ |
| `product_service.py` | äº§å“æœåŠ¡ï¼ˆä¸šåŠ¡é€»è¾‘å¤„ç†ï¼‰ |
| `product_price_service.py` | ä»·æ ¼æœåŠ¡ï¼ˆä»·æ ¼è®¡ç®—ã€å†å²è®°å½•ï¼‰ |
| `exchange_rate_service.py` | æ±‡ç‡æœåŠ¡ï¼ˆæ±‡ç‡è½¬æ¢ï¼‰ |
| `audit_service.py` | å®¡è®¡æœåŠ¡ï¼ˆæ—¥å¿—æŸ¥è¯¢ã€å¯¼å‡ºï¼‰ |
| `analytics_service.py` | åˆ†ææœåŠ¡ï¼ˆæ•°æ®ç»Ÿè®¡ã€æŠ¥è¡¨ç”Ÿæˆï¼‰ |
| `monitoring_service.py` | ç›‘æ§æœåŠ¡ï¼ˆç³»ç»ŸæŒ‡æ ‡æ”¶é›†ã€é¢„è­¦ï¼‰ |

#### æ•°æ®è®¿é—®å±‚ (`foundation_service/repositories/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `user_repository.py` | ç”¨æˆ·æ•°æ®è®¿é—®ï¼ˆæ•°æ®åº“æ“ä½œï¼‰ |
| `customer_repository.py` | å®¢æˆ·æ•°æ®è®¿é—®ï¼ˆæ•°æ®åº“æ“ä½œï¼‰ |
| `order_repository.py` | è®¢å•æ•°æ®è®¿é—®ï¼ˆæ•°æ®åº“æ“ä½œï¼‰ |
| `lead_repository.py` | çº¿ç´¢æ•°æ®è®¿é—®ï¼ˆæ•°æ®åº“æ“ä½œï¼‰ |
| `product_repository.py` | äº§å“æ•°æ®è®¿é—®ï¼ˆæ•°æ®åº“æ“ä½œï¼‰ |
| `audit_repository.py` | å®¡è®¡æ—¥å¿—æ•°æ®è®¿é—®ï¼ˆæ•°æ®åº“æ“ä½œï¼‰ |

#### æ•°æ®æ¨¡å‹ (`common/models/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `user.py` | ç”¨æˆ·æ¨¡å‹å®šä¹‰ |
| `organization.py` | ç»„ç»‡æ¨¡å‹å®šä¹‰ |
| `customer.py` | å®¢æˆ·æ¨¡å‹å®šä¹‰ |
| `order.py` | è®¢å•æ¨¡å‹å®šä¹‰ |
| `lead.py` | çº¿ç´¢æ¨¡å‹å®šä¹‰ |
| `opportunity.py` | å•†æœºæ¨¡å‹å®šä¹‰ |
| `product.py` | äº§å“æ¨¡å‹å®šä¹‰ |
| `product_price.py` | ä»·æ ¼æ¨¡å‹å®šä¹‰ |
| `audit_log.py` | å®¡è®¡æ—¥å¿—æ¨¡å‹å®šä¹‰ |

#### ä¸­é—´ä»¶ (`foundation_service/middleware/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `audit_middleware.py` | å®¡è®¡æ—¥å¿—ä¸­é—´ä»¶ï¼ˆè‡ªåŠ¨è®°å½•æ‰€æœ‰ HTTP è¯·æ±‚ï¼‰ |
| `access_log_filter.py` | è®¿é—®æ—¥å¿—è¿‡æ»¤å™¨ï¼ˆè¿‡æ»¤å¥åº·æ£€æŸ¥æ—¥å¿—ï¼‰ |

#### å·¥å…·å‡½æ•° (`foundation_service/utils/`)

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `jwt.py` | JWT å·¥å…·ï¼ˆToken ç”Ÿæˆã€éªŒè¯ï¼‰ |
| `password.py` | å¯†ç å·¥å…·ï¼ˆåŠ å¯†ã€éªŒè¯ï¼‰ |
| `audit_decorator.py` | å®¡è®¡è£…é¥°å™¨ï¼ˆæ‰‹åŠ¨è®°å½•å®¡è®¡æ—¥å¿—ï¼‰ |
| `audit_helper.py` | å®¡è®¡è¾…åŠ©å‡½æ•°ï¼ˆæå–è¯·æ±‚ä¿¡æ¯ï¼‰ |

---

## å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘

#### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/admin/` åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
2. åœ¨ `src/App.tsx` ä¸­æ·»åŠ è·¯ç”±
3. åœ¨ `src/config/menu.ts` ä¸­æ·»åŠ èœå•é¡¹
4. åœ¨ `src/i18n/locales/` ä¸­æ·»åŠ ç¿»è¯‘æ–‡æœ¬

#### æ·»åŠ æ–° API

1. åœ¨ `src/api/` åˆ›å»ºæ–°çš„ API æ–‡ä»¶
2. ä½¿ç”¨ `src/api/client.ts` ä¸­çš„ `apiClient` å‘é€è¯·æ±‚
3. åœ¨ `src/api/config.ts` ä¸­æ·»åŠ  API è·¯å¾„å®šä¹‰

#### æƒé™æ§åˆ¶

ä½¿ç”¨ `PermissionGuard` ç»„ä»¶åŒ…è£¹éœ€è¦æƒé™çš„é¡µé¢ï¼š

```tsx
<PermissionGuard role={Role.ADMIN}>
  <YourComponent />
</PermissionGuard>
```

### åç«¯å¼€å‘

#### æ·»åŠ æ–° API ç«¯ç‚¹

1. åœ¨ `foundation_service/api/v1/` åˆ›å»ºæ–°çš„è·¯ç”±æ–‡ä»¶
2. åœ¨ `foundation_service/services/` åˆ›å»ºå¯¹åº”çš„æœåŠ¡æ–‡ä»¶
3. åœ¨ `foundation_service/repositories/` åˆ›å»ºå¯¹åº”çš„ä»“åº“æ–‡ä»¶
4. åœ¨ `foundation_service/schemas/` åˆ›å»ºå¯¹åº”çš„ Schema æ–‡ä»¶
5. åœ¨ `foundation_service/main.py` ä¸­æ³¨å†Œè·¯ç”±

#### æ·»åŠ æ–°æ•°æ®æ¨¡å‹

1. åœ¨ `common/models/` åˆ›å»ºæ–°çš„æ¨¡å‹æ–‡ä»¶
2. åœ¨ `common/models/__init__.py` ä¸­å¯¼å‡ºæ¨¡å‹
3. åœ¨ `init-scripts/migrations/` åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬

#### æ•°æ®åº“è¿ç§»

1. åœ¨ `init-scripts/migrations/` åˆ›å»º SQL è¿ç§»è„šæœ¬
2. ä½¿ç”¨å‘½åè§„èŒƒï¼š`YYYYMMDD_description.sql`
3. ç¡®ä¿è¿ç§»è„šæœ¬å¯ä»¥é‡å¤æ‰§è¡Œï¼ˆä½¿ç”¨ `IF NOT EXISTS` ç­‰ï¼‰

### ä»£ç è§„èŒƒ

#### å‰ç«¯

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- ä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼è®¾è®¡
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ Hooks
- äº‹ä»¶å¤„ç†å‡½æ•°ä½¿ç”¨ `handle` å‰ç¼€å‘½å

#### åç«¯

- ä½¿ç”¨ç±»å‹æç¤ºï¼ˆType Hintsï¼‰
- éµå¾ª PEP 8 ä»£ç è§„èŒƒ
- ä½¿ç”¨ Pydantic è¿›è¡Œæ•°æ®éªŒè¯
- éµå¾ª RORO æ¨¡å¼ï¼ˆReceive an Object, Return an Objectï¼‰
- ä½¿ç”¨å¼‚æ­¥æ“ä½œï¼ˆasync/awaitï¼‰å¤„ç† I/O æ“ä½œ

---

## é‡è¦è¯´æ˜

### å¤šç§Ÿæˆ·æ¶æ„

- æ¯ä¸ªå…¬å¸/ç»„ç»‡æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç§Ÿæˆ·
- æ•°æ®é€šè¿‡ `organization_id` å­—æ®µéš”ç¦»
- ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±æ‰€å±ç»„ç»‡çš„æ•°æ®

### æƒé™ç³»ç»Ÿ

- åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
- è§’è‰²ï¼šADMINã€SALESã€AGENTã€OPERATIONã€FINANCE
- æƒé™å¯ä»¥ç»†åŒ–åˆ°å…·ä½“çš„æ“ä½œï¼ˆCREATEã€READã€UPDATEã€DELETEï¼‰

### å®¡è®¡æ—¥å¿—

- æ‰€æœ‰ HTTP è¯·æ±‚è‡ªåŠ¨è®°å½•åˆ° `audit_logs` è¡¨
- è®°å½•ä¿¡æ¯åŒ…æ‹¬ï¼šç”¨æˆ·ã€æ“ä½œç±»å‹ã€èµ„æºã€è¯·æ±‚å‚æ•°ã€å“åº”çŠ¶æ€
- æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ï¼‰è‡ªåŠ¨è¿‡æ»¤

### ä»·æ ¼ç®¡ç†

- æ”¯æŒå¤šå¸ç§ï¼ˆIDRã€USDã€CNY ç­‰ï¼‰
- æ”¯æŒæ±‡ç‡ç®¡ç†
- ä»·æ ¼å˜æ›´è‡ªåŠ¨è®°å½•å†å²
- è®¢å•åˆ›å»ºæ—¶ä¿å­˜ä»·æ ¼å¿«ç…§

---

## ç›¸å…³æ–‡æ¡£

- [åç«¯ README](../crm-backend-python/README.md)
- [å‰ç«¯ README](../crm-bantu-website/README.md)
- [é…ç½®é¡¹ç›® README](../crm-configuration/README.md)
- [API æ–‡æ¡£](../crm-backend-python/docs/api/API_DOCUMENTATION.md)
- [æ¨¡å—æ¶æ„æ–‡æ¡£](../crm-configuration/docs/module_architecture.md)

---

**æœ€åæ›´æ–°**: 2024-11-09
